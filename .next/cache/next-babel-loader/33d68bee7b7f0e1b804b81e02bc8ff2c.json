{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Projects\\\\react-ssr\\\\react-ssr\\\\Components\\\\CaseOpeningSec\\\\CaseOpeningSec.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { UnlockingContainerNotification } from \"../UnlockingContainerNotification/UnlockingContainerNotification\";\nimport ItemLine from \"../ItemLine/ItemLine\";\nimport { ItemChance } from \"../../helpers/chance\";\nimport { CaseOpeningConfirmation } from \"../CaseOpeningConfirmation/CaseOpeningConfirmation\";\nimport ReceivedItemModal from \"../ReceivedItemModal/ReceivedItemModal\";\nimport { useRouter } from \"next/router\";\nimport { getRandomInt } from \"../../helpers/random\";\nexport const CaseOpeningSec = props => {\n  const {\n    0: line,\n    1: setLine\n  } = useState(null);\n  const {\n    0: openingInProgress,\n    1: setOpeningInProgress\n  } = useState(false);\n  const {\n    0: receivedItemModalVisible,\n    1: setReceivedItemModalVisible\n  } = useState(false);\n  const {\n    0: receivedItem,\n    1: setReceivedItem\n  } = useState(null);\n  const router = useRouter();\n  useEffect(() => {\n    setLine(generateLine());\n  }, []);\n\n  const generateLine = () => {\n    let elements = [];\n    const actItem = selectRandomItem(getRandom());\n    setReceivedItem(actItem);\n\n    for (let index = 0; index < 30; index++) {\n      if (index === 25) {\n        elements.push(actItem);\n      } else {\n        const randomType = getRandom();\n        const item = selectRandomItem(randomType);\n        elements.push(item);\n      }\n    }\n\n    return __jsx(ItemLine, {\n      items: elements,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    });\n  };\n\n  const getRandom = () => {\n    const ran = Math.random();\n    if (ran < ItemChance.BLUE) return 1;else if (ran < ItemChance.PURPLE) return 2;else if (ran < ItemChance.PINK) return 3;else if (ran < ItemChance.RED) return 4;else return 5;\n  };\n\n  const getRandomStatrak = () => {\n    const ran = Math.random();\n    if (ran < ItemChance.BLUE && type == 1) return true;else if (ran < ItemChance.PURPLE && type == 2) return true;else if (ran < ItemChance.PINK && type == 3) return true;else if (ran < ItemChance.RED && type == 4) return true;else if (ran < ItemChance.GOLD && type == 5) return true;\n  };\n\n  const selectRandomItem = type => {\n    const isStatrak = getRandomStatrak(type);\n\n    if (type === 5) {\n      const ran = getRandomInt(0, props.specialItems.length);\n      return _objectSpread({}, props.specialItems[ran], {\n        isStatrak\n      });\n    } else {\n      const allGroupItems = [...props.items.filter(val => val.type === type)];\n      const ran = getRandomInt(0, allGroupItems.length);\n      return _objectSpread({}, allGroupItems[ran], {\n        isStatrak\n      });\n    }\n  };\n\n  const openCase = () => {\n    setOpeningInProgress(true);\n    setTimeout(() => {\n      setReceivedItemModalVisible(true);\n    }, 8100);\n  };\n\n  const onReceivedItemConfirmation = () => {\n    setReceivedItemModalVisible(false);\n    setOpeningInProgress(false);\n    router.push(\"/\");\n  };\n\n  const onTryAgainBtnClick = () => {\n    setReceivedItemModalVisible(false);\n    setOpeningInProgress(false);\n    setLine(generateLine());\n    setOpeningInProgress(true);\n    setTimeout(() => {\n      setReceivedItemModalVisible(true);\n    }, 8100);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1208676065\" + \" \" + 'case-opening-sec',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, receivedItemModalVisible && __jsx(ReceivedItemModal, {\n    title: receivedItem.title,\n    type: receivedItem.type,\n    image: receivedItem.image,\n    onTryAgainBtnClick: () => onTryAgainBtnClick(),\n    onSubmit: () => onReceivedItemConfirmation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1208676065\" + \" \" + 'head-wrap',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, !openingInProgress && __jsx(CaseOpeningConfirmation, {\n    image: props.caseImage,\n    title: props.caseTitle,\n    onSubmit: () => openCase(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), openingInProgress && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1208676065\" + \" \" + 'case-opener-bg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, __jsx(\"hr\", {\n    className: \"jsx-1208676065\" + \" \" + 'middle-line',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1208676065\" + \" \" + 'case-opener',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, line)))), openingInProgress && __jsx(UnlockingContainerNotification, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 31\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"1208676065\",\n    __self: this\n  }, \".case-opening-sec.jsx-1208676065{width:100%;height:57%;padding-top:2rem;background:#121b24;box-shadow:0px 0px 11px 1px rgba(0,0,0,0.75);}.case-opening-sec.jsx-1208676065 .head-wrap.jsx-1208676065{width:102%;-webkit-transform:translateX(-1%);-ms-transform:translateX(-1%);transform:translateX(-1%);background:#10161b;box-shadow:0px 0px 11px 1px rgba(0,0,0,0.75);height:54%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.case-opening-sec.jsx-1208676065 .head-wrap.jsx-1208676065 .case-opener-bg.jsx-1208676065{width:400px;background:black;position:relative;padding:16px 2px;}.case-opening-sec.jsx-1208676065 .head-wrap.jsx-1208676065 .case-opener-bg.jsx-1208676065 .case-opener.jsx-1208676065{width:100%;height:102px;overflow:hidden;position:relative;}.middle-line.jsx-1208676065{background:#605337;height:100%;position:absolute;left:50%;width:3px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);top:-16px;z-index:1;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xccmVhY3Qtc3NyXFxyZWFjdC1zc3JcXENvbXBvbmVudHNcXENhc2VPcGVuaW5nU2VjXFxDYXNlT3BlbmluZ1NlYy5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEhTLEFBR3dCLEFBUUEsQUFXQyxBQU9ELEFBT1EsV0FoQ1IsQUFRZSxBQWtCYixDQVBJLE9BY0wsR0FoQ0ssRUEwQkQsS0FQRSxFQWNBLFFBaENDLENBMEJELE9BUEQsRUFjUixTQWhDdUMsQUEwQmxELEFBT1ksTUFkWixJQWU2QixpQ0E1QlIsRUFMckIsaUJBTWtELHlDQTRCdEMsSUEzQkMsTUE0QkQsS0EzQkcsS0E0QmYscUVBM0JxQiw2RkFDSSxtR0FDekIiLCJmaWxlIjoiRDpcXFByb2plY3RzXFxyZWFjdC1zc3JcXHJlYWN0LXNzclxcQ29tcG9uZW50c1xcQ2FzZU9wZW5pbmdTZWNcXENhc2VPcGVuaW5nU2VjLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFVubG9ja2luZ0NvbnRhaW5lck5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9VbmxvY2tpbmdDb250YWluZXJOb3RpZmljYXRpb24vVW5sb2NraW5nQ29udGFpbmVyTm90aWZpY2F0aW9uXCI7XHJcbmltcG9ydCBJdGVtTGluZSBmcm9tIFwiLi4vSXRlbUxpbmUvSXRlbUxpbmVcIjtcclxuaW1wb3J0IHsgSXRlbUNoYW5jZSB9IGZyb20gXCIuLi8uLi9oZWxwZXJzL2NoYW5jZVwiO1xyXG5pbXBvcnQgeyBDYXNlT3BlbmluZ0NvbmZpcm1hdGlvbiB9IGZyb20gXCIuLi9DYXNlT3BlbmluZ0NvbmZpcm1hdGlvbi9DYXNlT3BlbmluZ0NvbmZpcm1hdGlvblwiO1xyXG5pbXBvcnQgUmVjZWl2ZWRJdGVtTW9kYWwgZnJvbSBcIi4uL1JlY2VpdmVkSXRlbU1vZGFsL1JlY2VpdmVkSXRlbU1vZGFsXCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21JbnQgfSBmcm9tIFwiLi4vLi4vaGVscGVycy9yYW5kb21cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBDYXNlT3BlbmluZ1NlYyA9IChwcm9wcykgPT4ge1xyXG4gIGNvbnN0IFtsaW5lLCBzZXRMaW5lXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtvcGVuaW5nSW5Qcm9ncmVzcywgc2V0T3BlbmluZ0luUHJvZ3Jlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtyZWNlaXZlZEl0ZW1Nb2RhbFZpc2libGUsIHNldFJlY2VpdmVkSXRlbU1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZShcclxuICAgIGZhbHNlXHJcbiAgKTtcclxuICBjb25zdCBbcmVjZWl2ZWRJdGVtLCBzZXRSZWNlaXZlZEl0ZW1dID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRMaW5lKGdlbmVyYXRlTGluZSgpKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlTGluZSA9ICgpID0+IHtcclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG4gICAgY29uc3QgYWN0SXRlbSA9IHNlbGVjdFJhbmRvbUl0ZW0oZ2V0UmFuZG9tKCkpO1xyXG4gICAgc2V0UmVjZWl2ZWRJdGVtKGFjdEl0ZW0pO1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDMwOyBpbmRleCsrKSB7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gMjUpIHtcclxuICAgICAgICBlbGVtZW50cy5wdXNoKGFjdEl0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbVR5cGUgPSBnZXRSYW5kb20oKTtcclxuICAgICAgICBjb25zdCBpdGVtID0gc2VsZWN0UmFuZG9tSXRlbShyYW5kb21UeXBlKTtcclxuICAgICAgICBlbGVtZW50cy5wdXNoKGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gPEl0ZW1MaW5lIGl0ZW1zPXtlbGVtZW50c30gLz47XHJcbiAgfTtcclxuICBjb25zdCBnZXRSYW5kb20gPSAoKSA9PiB7XHJcbiAgICBjb25zdCByYW4gPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuQkxVRSkgcmV0dXJuIDE7XHJcbiAgICBlbHNlIGlmIChyYW4gPCBJdGVtQ2hhbmNlLlBVUlBMRSkgcmV0dXJuIDI7XHJcbiAgICBlbHNlIGlmIChyYW4gPCBJdGVtQ2hhbmNlLlBJTkspIHJldHVybiAzO1xyXG4gICAgZWxzZSBpZiAocmFuIDwgSXRlbUNoYW5jZS5SRUQpIHJldHVybiA0O1xyXG4gICAgZWxzZSByZXR1cm4gNTtcclxuICB9O1xyXG4gIGNvbnN0IGdldFJhbmRvbVN0YXRyYWsgPSAoKSA9PiB7XHJcbiAgICBjb25zdCByYW4gPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuQkxVRSAmJiB0eXBlID09IDEpIHJldHVybiB0cnVlO1xyXG4gICAgZWxzZSBpZiAocmFuIDwgSXRlbUNoYW5jZS5QVVJQTEUgJiYgdHlwZSA9PSAyKSByZXR1cm4gdHJ1ZTtcclxuICAgIGVsc2UgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuUElOSyAmJiB0eXBlID09IDMpIHJldHVybiB0cnVlO1xyXG4gICAgZWxzZSBpZiAocmFuIDwgSXRlbUNoYW5jZS5SRUQgJiYgdHlwZSA9PSA0KSByZXR1cm4gdHJ1ZTtcclxuICAgIGVsc2UgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuR09MRCAmJiB0eXBlID09IDUpIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNlbGVjdFJhbmRvbUl0ZW0gPSAodHlwZSkgPT4ge1xyXG4gICAgY29uc3QgaXNTdGF0cmFrID0gZ2V0UmFuZG9tU3RhdHJhayh0eXBlKTtcclxuICAgIGlmICh0eXBlID09PSA1KSB7XHJcbiAgICAgIGNvbnN0IHJhbiA9IGdldFJhbmRvbUludCgwLCBwcm9wcy5zcGVjaWFsSXRlbXMubGVuZ3RoKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5wcm9wcy5zcGVjaWFsSXRlbXNbcmFuXSxcclxuICAgICAgICBpc1N0YXRyYWssXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBhbGxHcm91cEl0ZW1zID0gWy4uLnByb3BzLml0ZW1zLmZpbHRlcigodmFsKSA9PiB2YWwudHlwZSA9PT0gdHlwZSldO1xyXG4gICAgICBjb25zdCByYW4gPSBnZXRSYW5kb21JbnQoMCwgYWxsR3JvdXBJdGVtcy5sZW5ndGgpO1xyXG4gICAgICByZXR1cm4geyAuLi5hbGxHcm91cEl0ZW1zW3Jhbl0sIGlzU3RhdHJhayB9O1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3Qgb3BlbkNhc2UgPSAoKSA9PiB7XHJcbiAgICBzZXRPcGVuaW5nSW5Qcm9ncmVzcyh0cnVlKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRSZWNlaXZlZEl0ZW1Nb2RhbFZpc2libGUodHJ1ZSk7XHJcbiAgICB9LCA4MTAwKTtcclxuICB9O1xyXG4gIGNvbnN0IG9uUmVjZWl2ZWRJdGVtQ29uZmlybWF0aW9uID0gKCkgPT4ge1xyXG4gICAgc2V0UmVjZWl2ZWRJdGVtTW9kYWxWaXNpYmxlKGZhbHNlKTtcclxuICAgIHNldE9wZW5pbmdJblByb2dyZXNzKGZhbHNlKTtcclxuICAgIHJvdXRlci5wdXNoKFwiL1wiKTtcclxuICB9O1xyXG4gIGNvbnN0IG9uVHJ5QWdhaW5CdG5DbGljayA9ICgpID0+IHtcclxuICAgIHNldFJlY2VpdmVkSXRlbU1vZGFsVmlzaWJsZShmYWxzZSk7XHJcbiAgICBzZXRPcGVuaW5nSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICBzZXRMaW5lKGdlbmVyYXRlTGluZSgpKTtcclxuICAgIHNldE9wZW5pbmdJblByb2dyZXNzKHRydWUpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNldFJlY2VpdmVkSXRlbU1vZGFsVmlzaWJsZSh0cnVlKTtcclxuICAgIH0sIDgxMDApO1xyXG4gIH07XHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXNlLW9wZW5pbmctc2VjJz5cclxuICAgICAgICB7cmVjZWl2ZWRJdGVtTW9kYWxWaXNpYmxlICYmIChcclxuICAgICAgICAgIDxSZWNlaXZlZEl0ZW1Nb2RhbFxyXG4gICAgICAgICAgICB0aXRsZT17cmVjZWl2ZWRJdGVtLnRpdGxlfVxyXG4gICAgICAgICAgICB0eXBlPXtyZWNlaXZlZEl0ZW0udHlwZX1cclxuICAgICAgICAgICAgaW1hZ2U9e3JlY2VpdmVkSXRlbS5pbWFnZX1cclxuICAgICAgICAgICAgb25UcnlBZ2FpbkJ0bkNsaWNrPXsoKSA9PiBvblRyeUFnYWluQnRuQ2xpY2soKX1cclxuICAgICAgICAgICAgb25TdWJtaXQ9eygpID0+IG9uUmVjZWl2ZWRJdGVtQ29uZmlybWF0aW9uKCl9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoZWFkLXdyYXAnPlxyXG4gICAgICAgICAgeyFvcGVuaW5nSW5Qcm9ncmVzcyAmJiAoXHJcbiAgICAgICAgICAgIDxDYXNlT3BlbmluZ0NvbmZpcm1hdGlvblxyXG4gICAgICAgICAgICAgIGltYWdlPXtwcm9wcy5jYXNlSW1hZ2V9XHJcbiAgICAgICAgICAgICAgdGl0bGU9e3Byb3BzLmNhc2VUaXRsZX1cclxuICAgICAgICAgICAgICBvblN1Ym1pdD17KCkgPT4gb3BlbkNhc2UoKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7b3BlbmluZ0luUHJvZ3Jlc3MgJiYgKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXNlLW9wZW5lci1iZyc+XHJcbiAgICAgICAgICAgICAgICA8aHIgY2xhc3NOYW1lPSdtaWRkbGUtbGluZScgLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXNlLW9wZW5lcic+e2xpbmV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7b3BlbmluZ0luUHJvZ3Jlc3MgJiYgPFVubG9ja2luZ0NvbnRhaW5lck5vdGlmaWNhdGlvbiAvPn1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8c3R5bGUganN4PlxyXG4gICAgICAgIHtgXHJcbiAgICAgICAgICAuY2FzZS1vcGVuaW5nLXNlYyB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDU3JTtcclxuICAgICAgICAgICAgcGFkZGluZy10b3A6IDJyZW07XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxMjFiMjQ7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuY2FzZS1vcGVuaW5nLXNlYyAuaGVhZC13cmFwIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMiU7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMSUpO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMTAxNjFiO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDExcHggMXB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XHJcbiAgICAgICAgICAgIGhlaWdodDogNTQlO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuY2FzZS1vcGVuaW5nLXNlYyAuaGVhZC13cmFwIC5jYXNlLW9wZW5lci1iZyB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA0MDBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogYmxhY2s7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTZweCAycHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmNhc2Utb3BlbmluZy1zZWMgLmhlYWQtd3JhcCAuY2FzZS1vcGVuZXItYmcgLmNhc2Utb3BlbmVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAycHg7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAubWlkZGxlLWxpbmUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjA1MzM3O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgICB3aWR0aDogM3B4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICAgICAgICAgIHRvcDogLTE2cHg7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\Projects\\\\\\\\react-ssr\\\\\\\\react-ssr\\\\\\\\Components\\\\\\\\CaseOpeningSec\\\\\\\\CaseOpeningSec.jsx */\"));\n};","map":{"version":3,"sources":["D:/Projects/react-ssr/react-ssr/Components/CaseOpeningSec/CaseOpeningSec.jsx"],"names":["React","useEffect","useState","UnlockingContainerNotification","ItemLine","ItemChance","CaseOpeningConfirmation","ReceivedItemModal","useRouter","getRandomInt","CaseOpeningSec","props","line","setLine","openingInProgress","setOpeningInProgress","receivedItemModalVisible","setReceivedItemModalVisible","receivedItem","setReceivedItem","router","generateLine","elements","actItem","selectRandomItem","getRandom","index","push","randomType","item","ran","Math","random","BLUE","PURPLE","PINK","RED","getRandomStatrak","type","GOLD","isStatrak","specialItems","length","allGroupItems","items","filter","val","openCase","setTimeout","onReceivedItemConfirmation","onTryAgainBtnClick","title","image","caseImage","caseTitle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { UnlockingContainerNotification } from \"../UnlockingContainerNotification/UnlockingContainerNotification\";\r\nimport ItemLine from \"../ItemLine/ItemLine\";\r\nimport { ItemChance } from \"../../helpers/chance\";\r\nimport { CaseOpeningConfirmation } from \"../CaseOpeningConfirmation/CaseOpeningConfirmation\";\r\nimport ReceivedItemModal from \"../ReceivedItemModal/ReceivedItemModal\";\r\nimport { useRouter } from \"next/router\";\r\nimport { getRandomInt } from \"../../helpers/random\";\r\n\r\nexport const CaseOpeningSec = (props) => {\r\n  const [line, setLine] = useState(null);\r\n  const [openingInProgress, setOpeningInProgress] = useState(false);\r\n  const [receivedItemModalVisible, setReceivedItemModalVisible] = useState(\r\n    false\r\n  );\r\n  const [receivedItem, setReceivedItem] = useState(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    setLine(generateLine());\r\n  }, []);\r\n\r\n  const generateLine = () => {\r\n    let elements = [];\r\n    const actItem = selectRandomItem(getRandom());\r\n    setReceivedItem(actItem);\r\n    for (let index = 0; index < 30; index++) {\r\n      if (index === 25) {\r\n        elements.push(actItem);\r\n      } else {\r\n        const randomType = getRandom();\r\n        const item = selectRandomItem(randomType);\r\n        elements.push(item);\r\n      }\r\n    }\r\n    return <ItemLine items={elements} />;\r\n  };\r\n  const getRandom = () => {\r\n    const ran = Math.random();\r\n    if (ran < ItemChance.BLUE) return 1;\r\n    else if (ran < ItemChance.PURPLE) return 2;\r\n    else if (ran < ItemChance.PINK) return 3;\r\n    else if (ran < ItemChance.RED) return 4;\r\n    else return 5;\r\n  };\r\n  const getRandomStatrak = () => {\r\n    const ran = Math.random();\r\n    if (ran < ItemChance.BLUE && type == 1) return true;\r\n    else if (ran < ItemChance.PURPLE && type == 2) return true;\r\n    else if (ran < ItemChance.PINK && type == 3) return true;\r\n    else if (ran < ItemChance.RED && type == 4) return true;\r\n    else if (ran < ItemChance.GOLD && type == 5) return true;\r\n  };\r\n\r\n  const selectRandomItem = (type) => {\r\n    const isStatrak = getRandomStatrak(type);\r\n    if (type === 5) {\r\n      const ran = getRandomInt(0, props.specialItems.length);\r\n      return {\r\n        ...props.specialItems[ran],\r\n        isStatrak,\r\n      };\r\n    } else {\r\n      const allGroupItems = [...props.items.filter((val) => val.type === type)];\r\n      const ran = getRandomInt(0, allGroupItems.length);\r\n      return { ...allGroupItems[ran], isStatrak };\r\n    }\r\n  };\r\n  const openCase = () => {\r\n    setOpeningInProgress(true);\r\n    setTimeout(() => {\r\n      setReceivedItemModalVisible(true);\r\n    }, 8100);\r\n  };\r\n  const onReceivedItemConfirmation = () => {\r\n    setReceivedItemModalVisible(false);\r\n    setOpeningInProgress(false);\r\n    router.push(\"/\");\r\n  };\r\n  const onTryAgainBtnClick = () => {\r\n    setReceivedItemModalVisible(false);\r\n    setOpeningInProgress(false);\r\n    setLine(generateLine());\r\n    setOpeningInProgress(true);\r\n    setTimeout(() => {\r\n      setReceivedItemModalVisible(true);\r\n    }, 8100);\r\n  };\r\n  return (\r\n    <>\r\n      <div className='case-opening-sec'>\r\n        {receivedItemModalVisible && (\r\n          <ReceivedItemModal\r\n            title={receivedItem.title}\r\n            type={receivedItem.type}\r\n            image={receivedItem.image}\r\n            onTryAgainBtnClick={() => onTryAgainBtnClick()}\r\n            onSubmit={() => onReceivedItemConfirmation()}\r\n          />\r\n        )}\r\n\r\n        <div className='head-wrap'>\r\n          {!openingInProgress && (\r\n            <CaseOpeningConfirmation\r\n              image={props.caseImage}\r\n              title={props.caseTitle}\r\n              onSubmit={() => openCase()}\r\n            />\r\n          )}\r\n          {openingInProgress && (\r\n            <>\r\n              <div className='case-opener-bg'>\r\n                <hr className='middle-line' />\r\n                <div className='case-opener'>{line}</div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        {openingInProgress && <UnlockingContainerNotification />}\r\n      </div>\r\n\r\n      <style jsx>\r\n        {`\r\n          .case-opening-sec {\r\n            width: 100%;\r\n            height: 57%;\r\n            padding-top: 2rem;\r\n            background: #121b24;\r\n            box-shadow: 0px 0px 11px 1px rgba(0, 0, 0, 0.75);\r\n          }\r\n\r\n          .case-opening-sec .head-wrap {\r\n            width: 102%;\r\n            transform: translateX(-1%);\r\n            background: #10161b;\r\n            box-shadow: 0px 0px 11px 1px rgba(0, 0, 0, 0.75);\r\n            height: 54%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n\r\n          .case-opening-sec .head-wrap .case-opener-bg {\r\n            width: 400px;\r\n            background: black;\r\n            position: relative;\r\n            padding: 16px 2px;\r\n          }\r\n\r\n          .case-opening-sec .head-wrap .case-opener-bg .case-opener {\r\n            width: 100%;\r\n            height: 102px;\r\n            overflow: hidden;\r\n            position: relative;\r\n          }\r\n\r\n          .middle-line {\r\n            background: #605337;\r\n            height: 100%;\r\n            position: absolute;\r\n            left: 50%;\r\n            width: 3px;\r\n            transform: translateX(-50%);\r\n            top: -16px;\r\n            z-index: 1;\r\n          }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}