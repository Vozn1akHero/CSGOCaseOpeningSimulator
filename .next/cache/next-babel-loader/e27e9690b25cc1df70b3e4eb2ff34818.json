{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\react-ssr\\\\react-ssr\\\\Components\\\\CaseOpeningSec\\\\CaseOpeningSec.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport React, { useContext, useState } from \"react\";\nimport { SettingsContext } from \"../../contexts/SettingsContext\";\nimport { ItemChance, ItemStatrakChance, QualityChance } from \"../../helpers/chance\";\nimport { containerType } from \"../../helpers/container-type\";\nimport { itemType } from \"../../helpers/item-type\";\nimport { getRandomInt } from \"../../helpers/random\";\nimport Storage from \"../../helpers/storage\";\nimport CaseOpeningAudio from \"../CaseOpeningAudio/CaseOpeningAudio\";\nimport { CaseOpeningConfirmation } from \"../CaseOpeningConfirmation/CaseOpeningConfirmation\";\nimport ItemLine from \"../ItemLine/ItemLine\";\nimport ReceivedItemModal from \"../ReceivedItemModal/ReceivedItemModal\";\nimport { UnlockingContainerNotification } from \"../UnlockingContainerNotification/UnlockingContainerNotification\";\nimport { Quality } from \"../../helpers/quality\";\nimport RandomItem from \"./RandomItem\";\nimport RandomSouvenir from \"./RandomSouvenir\";\nimport RandomCaseItem from \"./RandomCaseItem\";\nexport const CaseOpeningSec = props => {\n  const context = useContext(SettingsContext);\n  const {\n    0: line,\n    1: setLine\n  } = useState(null);\n  const {\n    0: openingInProgress,\n    1: setOpeningInProgress\n  } = useState(false);\n  const {\n    0: receivedItemModalVisible,\n    1: setReceivedItemModalVisible\n  } = useState(false);\n  const {\n    0: receivedItem,\n    1: setReceivedItem\n  } = useState(null);\n  const router = useRouter();\n\n  const generateItem = () => {\n    let item;\n\n    switch (props.containerType) {\n      case containerType[0]:\n        item = selectRandomItem();\n        break;\n\n      case containerType[1]:\n        item = selectRandomSouvenir();\n        break;\n\n      default:\n        item = selectRandomItem();\n        break;\n    }\n\n    return item;\n  };\n\n  const generateLine = () => {\n    let elements = [];\n    let actItem = generateItem();\n    setReceivedItem(actItem);\n    Storage.saveReceivedItem(actItem);\n\n    for (let index = 0; index < 30; index++) {\n      if (index === 25) {\n        elements.push(actItem);\n      } else {\n        elements.push(generateItem());\n      }\n    }\n\n    return __jsx(ItemLine, {\n      items: elements,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 12\n      }\n    });\n  };\n\n  const getRandomSouvenir = () => {\n    const randomSouvenir = new RandomSouvenir(); // const ran = Math.random();\n    // if (\n    //   props.items.some((e) => e.type == itemType.GREY) &&\n    //   ran < ItemChance.GREY\n    // )\n    //   return itemType.GREY;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.LIGHTBLUE) &&\n    //   ran < ItemChance.LIGHTBLUE\n    // )\n    //   return itemType.LIGHTBLUE;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.BLUE) &&\n    //   ran < ItemChance.BLUE\n    // )\n    //   return itemType.BLUE;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.PURPLE) &&\n    //   ran < ItemChance.PURPLE\n    // )\n    //   return itemType.PURPLE;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.PINK) &&\n    //   ran < ItemChance.PINK\n    // )\n    //   return itemType.PINK;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.RED) &&\n    //   ran < ItemChance.RED\n    // )\n    //   return itemType.RED;\n    // else if (\n    //   props.items.some((e) => e.type == itemType.GOLD) &&\n    //   ran < ItemChance.GOLD\n    // )\n    //   return itemType.GOLD;\n  }; // const getRandom = () => {\n  //   const ran = Math.random();\n  //   if (ran < ItemChance.BLUE) return itemType.BLUE;\n  //   else if (ran < ItemChance.PURPLE) return itemType.PURPLE;\n  //   else if (ran < ItemChance.PINK) return itemType.PINK;\n  //   else if (ran < ItemChance.RED) return itemType.RED;\n  //   else if (ran < ItemChance.GOLD) return itemType.GOLD;\n  //   else return itemType.BLUE;\n  // };\n  // const getRandomStatrak = (type) => {\n  //   const ran = Math.random();\n  //   if (ran < ItemStatrakChance.BLUE && type == itemType.BLUE) return true;\n  //   else if (ran < ItemStatrakChance.PURPLE && type == itemType.PURPLE)\n  //     return true;\n  //   else if (ran < ItemStatrakChance.PINK && type == itemType.PINK) return true;\n  //   else if (ran < ItemStatrakChance.RED && type == itemType.RED) return true;\n  //   else if (ran < ItemStatrakChance.GOLD && type == itemType.GOLD) return true;\n  //   else return false;\n  // };\n  // const getRandomQuality = (item) => {\n  //   const ran = Math.random();\n  //   if (item.quality == null) {\n  //     if (ran < QualityChance.BATTLESCARRED) return Quality[\"Battle-Scarred\"];\n  //     else if (ran < QualityChance.FIELDTESTED) return Quality[\"Field-Tested\"];\n  //     else if (ran < QualityChance.WELLWORN) return Quality[\"Well-Worn\"];\n  //     else if (ran < QualityChance.MINIMALWEAR) return Quality[\"Minimal Wear\"];\n  //     else if (ran < QualityChance.FACTORYNEW) return Quality[\"Factory New\"];\n  //     else return Quality[\"Battle-Scarred\"];\n  //   } else {\n  //     if (\n  //       item.quality.indexOf(Quality[\"Battle-Scarred\"]) !== -1 &&\n  //       ran < QualityChance.BATTLESCARRED\n  //     )\n  //       return Quality[\"Battle-Scarred\"];\n  //     else if (\n  //       item.quality.indexOf(Quality[\"Field-Tested\"]) !== -1 &&\n  //       ran < QualityChance.FIELDTESTED\n  //     )\n  //       return Quality[\"Field-Tested\"];\n  //     else if (\n  //       item.quality.indexOf(Quality[\"Well-Worn\"]) !== -1 &&\n  //       ran < QualityChance.WELLWORN\n  //     )\n  //       return Quality[\"Well-Worn\"];\n  //     else if (\n  //       item.quality.indexOf(Quality[\"Minimal Wear\"]) !== -1 &&\n  //       ran < QualityChance.MINIMALWEAR\n  //     )\n  //       return Quality[\"Minimal Wear\"];\n  //     else if (\n  //       item.quality.indexOf(Quality[\"Factory New\"]) !== -1 &&\n  //       ran < QualityChance.FACTORYNEW\n  //     )\n  //       return Quality[\"Factory New\"];\n  //     else return Quality[\"Battle-Scarred\"];\n  //   }\n  // };\n\n\n  const selectRandomSouvenir = () => {\n    let randomItem = new RandomItem();\n    let randomSouvenir = new RandomSouvenir();\n    const type = randomSouvenir.getRandomSouvenirTypeByItems(props.items);\n    const item = randomItem.getSouvenirItemByType(props.items, type);\n    return item;\n  };\n\n  const selectRandomItem = () => {\n    let randomItem = new RandomItem();\n    let randomCaseItem = new RandomCaseItem();\n    const type = randomCaseItem.getRandomType();\n    const item = randomItem.getItemFromCaseByType(props.items, type);\n    return item; // let isStatrak = false;\n    // if (!props.isSouvenier && !props.isSticker) {\n    //   isStatrak = getRandomStatrak(type);\n    // }\n    // if (type === itemType.GOLD) {\n    //   const ran = getRandomInt(0, props.specialItems.length);\n    //   const item = props.specialItems[ran];\n    //   const quality = getRandomQuality(item);\n    //   return {\n    //     ...item,\n    //     isStatrak,\n    //     quality,\n    //   };\n    // } else {\n    //   const allGroupItems = [...props.items.filter((val) => val.type === type)];\n    //   const item = allGroupItems[ran];\n    //   const ran = getRandomInt(0, allGroupItems.length);\n    //   const quality = getRandomQuality(item);\n    //   return { ...item, isStatrak, quality };\n    // }\n  };\n\n  const openCase = () => {\n    setLine(generateLine());\n    setOpeningInProgress(true);\n    setTimeout(() => {\n      setReceivedItemModalVisible(true);\n    }, context.caseOpeningTime + 100);\n  };\n\n  const onReceivedItemConfirmation = () => {\n    router.push(\"/\");\n  };\n\n  const onTryAgainBtnClick = () => {\n    setReceivedItemModalVisible(false);\n    setOpeningInProgress(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1263638782\" + \" \" + 'case-opening-sec',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }, openingInProgress && __jsx(CaseOpeningAudio, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 31\n    }\n  }), receivedItemModalVisible && __jsx(ReceivedItemModal, {\n    title: receivedItem.title,\n    isStatrak: receivedItem.isStatrak,\n    quality: receivedItem.quality,\n    type: receivedItem.type,\n    image: receivedItem.image,\n    onTryAgainBtnClick: () => onTryAgainBtnClick(),\n    onSubmit: () => onReceivedItemConfirmation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1263638782\" + \" \" + 'head-wrap',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, !openingInProgress && __jsx(CaseOpeningConfirmation, {\n    image: props.caseImage,\n    title: props.caseTitle,\n    onSubmit: () => openCase(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }), openingInProgress && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1263638782\" + \" \" + 'case-opener-bg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, __jsx(\"hr\", {\n    className: \"jsx-1263638782\" + \" \" + 'middle-line',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1263638782\" + \" \" + 'case-opener',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, line)))), openingInProgress && __jsx(UnlockingContainerNotification, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 31\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"1263638782\",\n    __self: this\n  }, \".case-opening-sec.jsx-1263638782{width:100%;height:50%;padding-top:2rem;background:#121b24;box-shadow:0px 0px 11px 1px rgba(0,0,0,0.75);}.case-opening-sec.jsx-1263638782 .head-wrap.jsx-1263638782{width:101%;-webkit-transform:translateX(-0.5%);-ms-transform:translateX(-0.5%);transform:translateX(-0.5%);background:#10161b;box-shadow:0px 0px 11px 1px rgba(0,0,0,0.75);height:54%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.case-opening-sec.jsx-1263638782 .head-wrap.jsx-1263638782 .case-opener-bg.jsx-1263638782{width:400px;background:black;position:relative;padding:16px 2px;}.case-opening-sec.jsx-1263638782 .head-wrap.jsx-1263638782 .case-opener-bg.jsx-1263638782 .case-opener.jsx-1263638782{width:100%;height:102px;overflow:hidden;position:relative;}.middle-line.jsx-1263638782{background:#605337;height:100%;position:absolute;left:50%;width:3px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);top:0;margin:0;z-index:1;border:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xccmVhY3Qtc3NyXFxyZWFjdC1zc3JcXENvbXBvbmVudHNcXENhc2VPcGVuaW5nU2VjXFxDYXNlT3BlbmluZ1NlYy5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMFBTLEFBR3dCLEFBUUEsQUFXQyxBQU9ELEFBT1EsV0FoQ1IsQUFRaUIsQUFrQmYsQ0FQSSxPQWNMLEdBaENLLEVBMEJELEtBUEUsRUFjQSxRQWhDQyxDQTBCRCxPQVBELEVBY1IsU0FoQ3VDLEFBMEJsRCxBQU9ZLE1BZFosSUFlNkIsbUNBakM3QixJQUtxQixtQkFDNkIsbUNBNEIxQyxNQUNHLElBNUJFLEtBNkJELE1BNUJHLElBNkJELFlBQ2QsMERBN0JxQiw2RkFDSSxtR0FDekIiLCJmaWxlIjoiRDpcXFByb2plY3RzXFxyZWFjdC1zc3JcXHJlYWN0LXNzclxcQ29tcG9uZW50c1xcQ2FzZU9wZW5pbmdTZWNcXENhc2VPcGVuaW5nU2VjLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHRzL1NldHRpbmdzQ29udGV4dFwiO1xyXG5pbXBvcnQge1xyXG4gIEl0ZW1DaGFuY2UsXHJcbiAgSXRlbVN0YXRyYWtDaGFuY2UsXHJcbiAgUXVhbGl0eUNoYW5jZSxcclxufSBmcm9tIFwiLi4vLi4vaGVscGVycy9jaGFuY2VcIjtcclxuaW1wb3J0IHsgY29udGFpbmVyVHlwZSB9IGZyb20gXCIuLi8uLi9oZWxwZXJzL2NvbnRhaW5lci10eXBlXCI7XHJcbmltcG9ydCB7IGl0ZW1UeXBlIH0gZnJvbSBcIi4uLy4uL2hlbHBlcnMvaXRlbS10eXBlXCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbUludCB9IGZyb20gXCIuLi8uLi9oZWxwZXJzL3JhbmRvbVwiO1xyXG5pbXBvcnQgU3RvcmFnZSBmcm9tIFwiLi4vLi4vaGVscGVycy9zdG9yYWdlXCI7XHJcbmltcG9ydCBDYXNlT3BlbmluZ0F1ZGlvIGZyb20gXCIuLi9DYXNlT3BlbmluZ0F1ZGlvL0Nhc2VPcGVuaW5nQXVkaW9cIjtcclxuaW1wb3J0IHsgQ2FzZU9wZW5pbmdDb25maXJtYXRpb24gfSBmcm9tIFwiLi4vQ2FzZU9wZW5pbmdDb25maXJtYXRpb24vQ2FzZU9wZW5pbmdDb25maXJtYXRpb25cIjtcclxuaW1wb3J0IEl0ZW1MaW5lIGZyb20gXCIuLi9JdGVtTGluZS9JdGVtTGluZVwiO1xyXG5pbXBvcnQgUmVjZWl2ZWRJdGVtTW9kYWwgZnJvbSBcIi4uL1JlY2VpdmVkSXRlbU1vZGFsL1JlY2VpdmVkSXRlbU1vZGFsXCI7XHJcbmltcG9ydCB7IFVubG9ja2luZ0NvbnRhaW5lck5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9VbmxvY2tpbmdDb250YWluZXJOb3RpZmljYXRpb24vVW5sb2NraW5nQ29udGFpbmVyTm90aWZpY2F0aW9uXCI7XHJcbmltcG9ydCB7IFF1YWxpdHkgfSBmcm9tIFwiLi4vLi4vaGVscGVycy9xdWFsaXR5XCI7XHJcbmltcG9ydCBSYW5kb21JdGVtIGZyb20gXCIuL1JhbmRvbUl0ZW1cIjtcclxuaW1wb3J0IFJhbmRvbVNvdXZlbmlyIGZyb20gXCIuL1JhbmRvbVNvdXZlbmlyXCI7XHJcbmltcG9ydCBSYW5kb21DYXNlSXRlbSBmcm9tIFwiLi9SYW5kb21DYXNlSXRlbVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IENhc2VPcGVuaW5nU2VjID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU2V0dGluZ3NDb250ZXh0KTtcclxuICBjb25zdCBbbGluZSwgc2V0TGluZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbb3BlbmluZ0luUHJvZ3Jlc3MsIHNldE9wZW5pbmdJblByb2dyZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcmVjZWl2ZWRJdGVtTW9kYWxWaXNpYmxlLCBzZXRSZWNlaXZlZEl0ZW1Nb2RhbFZpc2libGVdID0gdXNlU3RhdGUoXHJcbiAgICBmYWxzZVxyXG4gICk7XHJcbiAgY29uc3QgW3JlY2VpdmVkSXRlbSwgc2V0UmVjZWl2ZWRJdGVtXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG5cclxuICBjb25zdCBnZW5lcmF0ZUl0ZW0gPSAoKSA9PiB7XHJcbiAgICBsZXQgaXRlbTtcclxuICAgIHN3aXRjaCAocHJvcHMuY29udGFpbmVyVHlwZSkge1xyXG4gICAgICBjYXNlIGNvbnRhaW5lclR5cGVbMF06XHJcbiAgICAgICAgaXRlbSA9IHNlbGVjdFJhbmRvbUl0ZW0oKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBjb250YWluZXJUeXBlWzFdOlxyXG4gICAgICAgIGl0ZW0gPSBzZWxlY3RSYW5kb21Tb3V2ZW5pcigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGl0ZW0gPSBzZWxlY3RSYW5kb21JdGVtKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXRlbTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZW5lcmF0ZUxpbmUgPSAoKSA9PiB7XHJcbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcclxuICAgIGxldCBhY3RJdGVtID0gZ2VuZXJhdGVJdGVtKCk7XHJcbiAgICBzZXRSZWNlaXZlZEl0ZW0oYWN0SXRlbSk7XHJcbiAgICBTdG9yYWdlLnNhdmVSZWNlaXZlZEl0ZW0oYWN0SXRlbSk7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMzA7IGluZGV4KyspIHtcclxuICAgICAgaWYgKGluZGV4ID09PSAyNSkge1xyXG4gICAgICAgIGVsZW1lbnRzLnB1c2goYWN0SXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudHMucHVzaChnZW5lcmF0ZUl0ZW0oKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiA8SXRlbUxpbmUgaXRlbXM9e2VsZW1lbnRzfSAvPjtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRSYW5kb21Tb3V2ZW5pciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJhbmRvbVNvdXZlbmlyID0gbmV3IFJhbmRvbVNvdXZlbmlyKCk7XHJcblxyXG4gICAgLy8gY29uc3QgcmFuID0gTWF0aC5yYW5kb20oKTtcclxuICAgIC8vIGlmIChcclxuICAgIC8vICAgcHJvcHMuaXRlbXMuc29tZSgoZSkgPT4gZS50eXBlID09IGl0ZW1UeXBlLkdSRVkpICYmXHJcbiAgICAvLyAgIHJhbiA8IEl0ZW1DaGFuY2UuR1JFWVxyXG4gICAgLy8gKVxyXG4gICAgLy8gICByZXR1cm4gaXRlbVR5cGUuR1JFWTtcclxuICAgIC8vIGVsc2UgaWYgKFxyXG4gICAgLy8gICBwcm9wcy5pdGVtcy5zb21lKChlKSA9PiBlLnR5cGUgPT0gaXRlbVR5cGUuTElHSFRCTFVFKSAmJlxyXG4gICAgLy8gICByYW4gPCBJdGVtQ2hhbmNlLkxJR0hUQkxVRVxyXG4gICAgLy8gKVxyXG4gICAgLy8gICByZXR1cm4gaXRlbVR5cGUuTElHSFRCTFVFO1xyXG4gICAgLy8gZWxzZSBpZiAoXHJcbiAgICAvLyAgIHByb3BzLml0ZW1zLnNvbWUoKGUpID0+IGUudHlwZSA9PSBpdGVtVHlwZS5CTFVFKSAmJlxyXG4gICAgLy8gICByYW4gPCBJdGVtQ2hhbmNlLkJMVUVcclxuICAgIC8vIClcclxuICAgIC8vICAgcmV0dXJuIGl0ZW1UeXBlLkJMVUU7XHJcbiAgICAvLyBlbHNlIGlmIChcclxuICAgIC8vICAgcHJvcHMuaXRlbXMuc29tZSgoZSkgPT4gZS50eXBlID09IGl0ZW1UeXBlLlBVUlBMRSkgJiZcclxuICAgIC8vICAgcmFuIDwgSXRlbUNoYW5jZS5QVVJQTEVcclxuICAgIC8vIClcclxuICAgIC8vICAgcmV0dXJuIGl0ZW1UeXBlLlBVUlBMRTtcclxuICAgIC8vIGVsc2UgaWYgKFxyXG4gICAgLy8gICBwcm9wcy5pdGVtcy5zb21lKChlKSA9PiBlLnR5cGUgPT0gaXRlbVR5cGUuUElOSykgJiZcclxuICAgIC8vICAgcmFuIDwgSXRlbUNoYW5jZS5QSU5LXHJcbiAgICAvLyApXHJcbiAgICAvLyAgIHJldHVybiBpdGVtVHlwZS5QSU5LO1xyXG4gICAgLy8gZWxzZSBpZiAoXHJcbiAgICAvLyAgIHByb3BzLml0ZW1zLnNvbWUoKGUpID0+IGUudHlwZSA9PSBpdGVtVHlwZS5SRUQpICYmXHJcbiAgICAvLyAgIHJhbiA8IEl0ZW1DaGFuY2UuUkVEXHJcbiAgICAvLyApXHJcbiAgICAvLyAgIHJldHVybiBpdGVtVHlwZS5SRUQ7XHJcbiAgICAvLyBlbHNlIGlmIChcclxuICAgIC8vICAgcHJvcHMuaXRlbXMuc29tZSgoZSkgPT4gZS50eXBlID09IGl0ZW1UeXBlLkdPTEQpICYmXHJcbiAgICAvLyAgIHJhbiA8IEl0ZW1DaGFuY2UuR09MRFxyXG4gICAgLy8gKVxyXG4gICAgLy8gICByZXR1cm4gaXRlbVR5cGUuR09MRDtcclxuICB9O1xyXG5cclxuICAvLyBjb25zdCBnZXRSYW5kb20gPSAoKSA9PiB7XHJcbiAgLy8gICBjb25zdCByYW4gPSBNYXRoLnJhbmRvbSgpO1xyXG4gIC8vICAgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuQkxVRSkgcmV0dXJuIGl0ZW1UeXBlLkJMVUU7XHJcbiAgLy8gICBlbHNlIGlmIChyYW4gPCBJdGVtQ2hhbmNlLlBVUlBMRSkgcmV0dXJuIGl0ZW1UeXBlLlBVUlBMRTtcclxuICAvLyAgIGVsc2UgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuUElOSykgcmV0dXJuIGl0ZW1UeXBlLlBJTks7XHJcbiAgLy8gICBlbHNlIGlmIChyYW4gPCBJdGVtQ2hhbmNlLlJFRCkgcmV0dXJuIGl0ZW1UeXBlLlJFRDtcclxuICAvLyAgIGVsc2UgaWYgKHJhbiA8IEl0ZW1DaGFuY2UuR09MRCkgcmV0dXJuIGl0ZW1UeXBlLkdPTEQ7XHJcbiAgLy8gICBlbHNlIHJldHVybiBpdGVtVHlwZS5CTFVFO1xyXG4gIC8vIH07XHJcblxyXG4gIC8vIGNvbnN0IGdldFJhbmRvbVN0YXRyYWsgPSAodHlwZSkgPT4ge1xyXG4gIC8vICAgY29uc3QgcmFuID0gTWF0aC5yYW5kb20oKTtcclxuICAvLyAgIGlmIChyYW4gPCBJdGVtU3RhdHJha0NoYW5jZS5CTFVFICYmIHR5cGUgPT0gaXRlbVR5cGUuQkxVRSkgcmV0dXJuIHRydWU7XHJcbiAgLy8gICBlbHNlIGlmIChyYW4gPCBJdGVtU3RhdHJha0NoYW5jZS5QVVJQTEUgJiYgdHlwZSA9PSBpdGVtVHlwZS5QVVJQTEUpXHJcbiAgLy8gICAgIHJldHVybiB0cnVlO1xyXG4gIC8vICAgZWxzZSBpZiAocmFuIDwgSXRlbVN0YXRyYWtDaGFuY2UuUElOSyAmJiB0eXBlID09IGl0ZW1UeXBlLlBJTkspIHJldHVybiB0cnVlO1xyXG4gIC8vICAgZWxzZSBpZiAocmFuIDwgSXRlbVN0YXRyYWtDaGFuY2UuUkVEICYmIHR5cGUgPT0gaXRlbVR5cGUuUkVEKSByZXR1cm4gdHJ1ZTtcclxuICAvLyAgIGVsc2UgaWYgKHJhbiA8IEl0ZW1TdGF0cmFrQ2hhbmNlLkdPTEQgJiYgdHlwZSA9PSBpdGVtVHlwZS5HT0xEKSByZXR1cm4gdHJ1ZTtcclxuICAvLyAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gIC8vIH07XHJcblxyXG4gIC8vIGNvbnN0IGdldFJhbmRvbVF1YWxpdHkgPSAoaXRlbSkgPT4ge1xyXG4gIC8vICAgY29uc3QgcmFuID0gTWF0aC5yYW5kb20oKTtcclxuICAvLyAgIGlmIChpdGVtLnF1YWxpdHkgPT0gbnVsbCkge1xyXG4gIC8vICAgICBpZiAocmFuIDwgUXVhbGl0eUNoYW5jZS5CQVRUTEVTQ0FSUkVEKSByZXR1cm4gUXVhbGl0eVtcIkJhdHRsZS1TY2FycmVkXCJdO1xyXG4gIC8vICAgICBlbHNlIGlmIChyYW4gPCBRdWFsaXR5Q2hhbmNlLkZJRUxEVEVTVEVEKSByZXR1cm4gUXVhbGl0eVtcIkZpZWxkLVRlc3RlZFwiXTtcclxuICAvLyAgICAgZWxzZSBpZiAocmFuIDwgUXVhbGl0eUNoYW5jZS5XRUxMV09STikgcmV0dXJuIFF1YWxpdHlbXCJXZWxsLVdvcm5cIl07XHJcbiAgLy8gICAgIGVsc2UgaWYgKHJhbiA8IFF1YWxpdHlDaGFuY2UuTUlOSU1BTFdFQVIpIHJldHVybiBRdWFsaXR5W1wiTWluaW1hbCBXZWFyXCJdO1xyXG4gIC8vICAgICBlbHNlIGlmIChyYW4gPCBRdWFsaXR5Q2hhbmNlLkZBQ1RPUllORVcpIHJldHVybiBRdWFsaXR5W1wiRmFjdG9yeSBOZXdcIl07XHJcbiAgLy8gICAgIGVsc2UgcmV0dXJuIFF1YWxpdHlbXCJCYXR0bGUtU2NhcnJlZFwiXTtcclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgIGlmIChcclxuICAvLyAgICAgICBpdGVtLnF1YWxpdHkuaW5kZXhPZihRdWFsaXR5W1wiQmF0dGxlLVNjYXJyZWRcIl0pICE9PSAtMSAmJlxyXG4gIC8vICAgICAgIHJhbiA8IFF1YWxpdHlDaGFuY2UuQkFUVExFU0NBUlJFRFxyXG4gIC8vICAgICApXHJcbiAgLy8gICAgICAgcmV0dXJuIFF1YWxpdHlbXCJCYXR0bGUtU2NhcnJlZFwiXTtcclxuICAvLyAgICAgZWxzZSBpZiAoXHJcbiAgLy8gICAgICAgaXRlbS5xdWFsaXR5LmluZGV4T2YoUXVhbGl0eVtcIkZpZWxkLVRlc3RlZFwiXSkgIT09IC0xICYmXHJcbiAgLy8gICAgICAgcmFuIDwgUXVhbGl0eUNoYW5jZS5GSUVMRFRFU1RFRFxyXG4gIC8vICAgICApXHJcbiAgLy8gICAgICAgcmV0dXJuIFF1YWxpdHlbXCJGaWVsZC1UZXN0ZWRcIl07XHJcbiAgLy8gICAgIGVsc2UgaWYgKFxyXG4gIC8vICAgICAgIGl0ZW0ucXVhbGl0eS5pbmRleE9mKFF1YWxpdHlbXCJXZWxsLVdvcm5cIl0pICE9PSAtMSAmJlxyXG4gIC8vICAgICAgIHJhbiA8IFF1YWxpdHlDaGFuY2UuV0VMTFdPUk5cclxuICAvLyAgICAgKVxyXG4gIC8vICAgICAgIHJldHVybiBRdWFsaXR5W1wiV2VsbC1Xb3JuXCJdO1xyXG4gIC8vICAgICBlbHNlIGlmIChcclxuICAvLyAgICAgICBpdGVtLnF1YWxpdHkuaW5kZXhPZihRdWFsaXR5W1wiTWluaW1hbCBXZWFyXCJdKSAhPT0gLTEgJiZcclxuICAvLyAgICAgICByYW4gPCBRdWFsaXR5Q2hhbmNlLk1JTklNQUxXRUFSXHJcbiAgLy8gICAgIClcclxuICAvLyAgICAgICByZXR1cm4gUXVhbGl0eVtcIk1pbmltYWwgV2VhclwiXTtcclxuICAvLyAgICAgZWxzZSBpZiAoXHJcbiAgLy8gICAgICAgaXRlbS5xdWFsaXR5LmluZGV4T2YoUXVhbGl0eVtcIkZhY3RvcnkgTmV3XCJdKSAhPT0gLTEgJiZcclxuICAvLyAgICAgICByYW4gPCBRdWFsaXR5Q2hhbmNlLkZBQ1RPUllORVdcclxuICAvLyAgICAgKVxyXG4gIC8vICAgICAgIHJldHVybiBRdWFsaXR5W1wiRmFjdG9yeSBOZXdcIl07XHJcbiAgLy8gICAgIGVsc2UgcmV0dXJuIFF1YWxpdHlbXCJCYXR0bGUtU2NhcnJlZFwiXTtcclxuICAvLyAgIH1cclxuICAvLyB9O1xyXG5cclxuICBjb25zdCBzZWxlY3RSYW5kb21Tb3V2ZW5pciA9ICgpID0+IHtcclxuICAgIGxldCByYW5kb21JdGVtID0gbmV3IFJhbmRvbUl0ZW0oKTtcclxuICAgIGxldCByYW5kb21Tb3V2ZW5pciA9IG5ldyBSYW5kb21Tb3V2ZW5pcigpO1xyXG4gICAgY29uc3QgdHlwZSA9IHJhbmRvbVNvdXZlbmlyLmdldFJhbmRvbVNvdXZlbmlyVHlwZUJ5SXRlbXMocHJvcHMuaXRlbXMpO1xyXG4gICAgY29uc3QgaXRlbSA9IHJhbmRvbUl0ZW0uZ2V0U291dmVuaXJJdGVtQnlUeXBlKHByb3BzLml0ZW1zLCB0eXBlKTtcclxuICAgIHJldHVybiBpdGVtO1xyXG4gIH07XHJcbiAgY29uc3Qgc2VsZWN0UmFuZG9tSXRlbSA9ICgpID0+IHtcclxuICAgIGxldCByYW5kb21JdGVtID0gbmV3IFJhbmRvbUl0ZW0oKTtcclxuICAgIGxldCByYW5kb21DYXNlSXRlbSA9IG5ldyBSYW5kb21DYXNlSXRlbSgpO1xyXG4gICAgY29uc3QgdHlwZSA9IHJhbmRvbUNhc2VJdGVtLmdldFJhbmRvbVR5cGUoKTtcclxuICAgIGNvbnN0IGl0ZW0gPSByYW5kb21JdGVtLmdldEl0ZW1Gcm9tQ2FzZUJ5VHlwZShwcm9wcy5pdGVtcywgdHlwZSk7XHJcbiAgICByZXR1cm4gaXRlbTtcclxuXHJcbiAgICAvLyBsZXQgaXNTdGF0cmFrID0gZmFsc2U7XHJcbiAgICAvLyBpZiAoIXByb3BzLmlzU291dmVuaWVyICYmICFwcm9wcy5pc1N0aWNrZXIpIHtcclxuICAgIC8vICAgaXNTdGF0cmFrID0gZ2V0UmFuZG9tU3RhdHJhayh0eXBlKTtcclxuICAgIC8vIH1cclxuICAgIC8vIGlmICh0eXBlID09PSBpdGVtVHlwZS5HT0xEKSB7XHJcbiAgICAvLyAgIGNvbnN0IHJhbiA9IGdldFJhbmRvbUludCgwLCBwcm9wcy5zcGVjaWFsSXRlbXMubGVuZ3RoKTtcclxuICAgIC8vICAgY29uc3QgaXRlbSA9IHByb3BzLnNwZWNpYWxJdGVtc1tyYW5dO1xyXG4gICAgLy8gICBjb25zdCBxdWFsaXR5ID0gZ2V0UmFuZG9tUXVhbGl0eShpdGVtKTtcclxuICAgIC8vICAgcmV0dXJuIHtcclxuICAgIC8vICAgICAuLi5pdGVtLFxyXG4gICAgLy8gICAgIGlzU3RhdHJhayxcclxuICAgIC8vICAgICBxdWFsaXR5LFxyXG4gICAgLy8gICB9O1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgY29uc3QgYWxsR3JvdXBJdGVtcyA9IFsuLi5wcm9wcy5pdGVtcy5maWx0ZXIoKHZhbCkgPT4gdmFsLnR5cGUgPT09IHR5cGUpXTtcclxuICAgIC8vICAgY29uc3QgaXRlbSA9IGFsbEdyb3VwSXRlbXNbcmFuXTtcclxuICAgIC8vICAgY29uc3QgcmFuID0gZ2V0UmFuZG9tSW50KDAsIGFsbEdyb3VwSXRlbXMubGVuZ3RoKTtcclxuICAgIC8vICAgY29uc3QgcXVhbGl0eSA9IGdldFJhbmRvbVF1YWxpdHkoaXRlbSk7XHJcbiAgICAvLyAgIHJldHVybiB7IC4uLml0ZW0sIGlzU3RhdHJhaywgcXVhbGl0eSB9O1xyXG4gICAgLy8gfVxyXG4gIH07XHJcbiAgY29uc3Qgb3BlbkNhc2UgPSAoKSA9PiB7XHJcbiAgICBzZXRMaW5lKGdlbmVyYXRlTGluZSgpKTtcclxuICAgIHNldE9wZW5pbmdJblByb2dyZXNzKHRydWUpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNldFJlY2VpdmVkSXRlbU1vZGFsVmlzaWJsZSh0cnVlKTtcclxuICAgIH0sIGNvbnRleHQuY2FzZU9wZW5pbmdUaW1lICsgMTAwKTtcclxuICB9O1xyXG4gIGNvbnN0IG9uUmVjZWl2ZWRJdGVtQ29uZmlybWF0aW9uID0gKCkgPT4ge1xyXG4gICAgcm91dGVyLnB1c2goXCIvXCIpO1xyXG4gIH07XHJcbiAgY29uc3Qgb25UcnlBZ2FpbkJ0bkNsaWNrID0gKCkgPT4ge1xyXG4gICAgc2V0UmVjZWl2ZWRJdGVtTW9kYWxWaXNpYmxlKGZhbHNlKTtcclxuICAgIHNldE9wZW5pbmdJblByb2dyZXNzKGZhbHNlKTtcclxuICB9O1xyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY2FzZS1vcGVuaW5nLXNlYyc+XHJcbiAgICAgICAge29wZW5pbmdJblByb2dyZXNzICYmIDxDYXNlT3BlbmluZ0F1ZGlvIC8+fVxyXG4gICAgICAgIHtyZWNlaXZlZEl0ZW1Nb2RhbFZpc2libGUgJiYgKFxyXG4gICAgICAgICAgPFJlY2VpdmVkSXRlbU1vZGFsXHJcbiAgICAgICAgICAgIHRpdGxlPXtyZWNlaXZlZEl0ZW0udGl0bGV9XHJcbiAgICAgICAgICAgIGlzU3RhdHJhaz17cmVjZWl2ZWRJdGVtLmlzU3RhdHJha31cclxuICAgICAgICAgICAgcXVhbGl0eT17cmVjZWl2ZWRJdGVtLnF1YWxpdHl9XHJcbiAgICAgICAgICAgIHR5cGU9e3JlY2VpdmVkSXRlbS50eXBlfVxyXG4gICAgICAgICAgICBpbWFnZT17cmVjZWl2ZWRJdGVtLmltYWdlfVxyXG4gICAgICAgICAgICBvblRyeUFnYWluQnRuQ2xpY2s9eygpID0+IG9uVHJ5QWdhaW5CdG5DbGljaygpfVxyXG4gICAgICAgICAgICBvblN1Ym1pdD17KCkgPT4gb25SZWNlaXZlZEl0ZW1Db25maXJtYXRpb24oKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2hlYWQtd3JhcCc+XHJcbiAgICAgICAgICB7IW9wZW5pbmdJblByb2dyZXNzICYmIChcclxuICAgICAgICAgICAgPENhc2VPcGVuaW5nQ29uZmlybWF0aW9uXHJcbiAgICAgICAgICAgICAgaW1hZ2U9e3Byb3BzLmNhc2VJbWFnZX1cclxuICAgICAgICAgICAgICB0aXRsZT17cHJvcHMuY2FzZVRpdGxlfVxyXG4gICAgICAgICAgICAgIG9uU3VibWl0PXsoKSA9PiBvcGVuQ2FzZSgpfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHtvcGVuaW5nSW5Qcm9ncmVzcyAmJiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Nhc2Utb3BlbmVyLWJnJz5cclxuICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9J21pZGRsZS1saW5lJyAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Nhc2Utb3BlbmVyJz57bGluZX08L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHtvcGVuaW5nSW5Qcm9ncmVzcyAmJiA8VW5sb2NraW5nQ29udGFpbmVyTm90aWZpY2F0aW9uIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5jYXNlLW9wZW5pbmctc2VjIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogNTAlO1xyXG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMnJlbTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzEyMWIyNDtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAxMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5jYXNlLW9wZW5pbmctc2VjIC5oZWFkLXdyYXAge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAxJTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0wLjUlKTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzEwMTYxYjtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAxMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDU0JTtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmNhc2Utb3BlbmluZy1zZWMgLmhlYWQtd3JhcCAuY2FzZS1vcGVuZXItYmcge1xyXG4gICAgICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHggMnB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5jYXNlLW9wZW5pbmctc2VjIC5oZWFkLXdyYXAgLmNhc2Utb3BlbmVyLWJnIC5jYXNlLW9wZW5lciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMnB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLm1pZGRsZS1saW5lIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzYwNTMzNztcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgICAgd2lkdGg6IDNweDtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gICAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG4iXX0= */\\n/*@ sourceURL=D:\\\\\\\\Projects\\\\\\\\react-ssr\\\\\\\\react-ssr\\\\\\\\Components\\\\\\\\CaseOpeningSec\\\\\\\\CaseOpeningSec.jsx */\"));\n};","map":{"version":3,"sources":["D:/Projects/react-ssr/react-ssr/Components/CaseOpeningSec/CaseOpeningSec.jsx"],"names":["useRouter","React","useContext","useState","SettingsContext","ItemChance","ItemStatrakChance","QualityChance","containerType","itemType","getRandomInt","Storage","CaseOpeningAudio","CaseOpeningConfirmation","ItemLine","ReceivedItemModal","UnlockingContainerNotification","Quality","RandomItem","RandomSouvenir","RandomCaseItem","CaseOpeningSec","props","context","line","setLine","openingInProgress","setOpeningInProgress","receivedItemModalVisible","setReceivedItemModalVisible","receivedItem","setReceivedItem","router","generateItem","item","selectRandomItem","selectRandomSouvenir","generateLine","elements","actItem","saveReceivedItem","index","push","getRandomSouvenir","randomSouvenir","randomItem","type","getRandomSouvenirTypeByItems","items","getSouvenirItemByType","randomCaseItem","getRandomType","getItemFromCaseByType","openCase","setTimeout","caseOpeningTime","onReceivedItemConfirmation","onTryAgainBtnClick","title","isStatrak","quality","image","caseImage","caseTitle"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { SettingsContext } from \"../../contexts/SettingsContext\";\r\nimport {\r\n  ItemChance,\r\n  ItemStatrakChance,\r\n  QualityChance,\r\n} from \"../../helpers/chance\";\r\nimport { containerType } from \"../../helpers/container-type\";\r\nimport { itemType } from \"../../helpers/item-type\";\r\nimport { getRandomInt } from \"../../helpers/random\";\r\nimport Storage from \"../../helpers/storage\";\r\nimport CaseOpeningAudio from \"../CaseOpeningAudio/CaseOpeningAudio\";\r\nimport { CaseOpeningConfirmation } from \"../CaseOpeningConfirmation/CaseOpeningConfirmation\";\r\nimport ItemLine from \"../ItemLine/ItemLine\";\r\nimport ReceivedItemModal from \"../ReceivedItemModal/ReceivedItemModal\";\r\nimport { UnlockingContainerNotification } from \"../UnlockingContainerNotification/UnlockingContainerNotification\";\r\nimport { Quality } from \"../../helpers/quality\";\r\nimport RandomItem from \"./RandomItem\";\r\nimport RandomSouvenir from \"./RandomSouvenir\";\r\nimport RandomCaseItem from \"./RandomCaseItem\";\r\n\r\nexport const CaseOpeningSec = (props) => {\r\n  const context = useContext(SettingsContext);\r\n  const [line, setLine] = useState(null);\r\n  const [openingInProgress, setOpeningInProgress] = useState(false);\r\n  const [receivedItemModalVisible, setReceivedItemModalVisible] = useState(\r\n    false\r\n  );\r\n  const [receivedItem, setReceivedItem] = useState(null);\r\n  const router = useRouter();\r\n\r\n  const generateItem = () => {\r\n    let item;\r\n    switch (props.containerType) {\r\n      case containerType[0]:\r\n        item = selectRandomItem();\r\n        break;\r\n      case containerType[1]:\r\n        item = selectRandomSouvenir();\r\n        break;\r\n      default:\r\n        item = selectRandomItem();\r\n        break;\r\n    }\r\n    return item;\r\n  };\r\n\r\n  const generateLine = () => {\r\n    let elements = [];\r\n    let actItem = generateItem();\r\n    setReceivedItem(actItem);\r\n    Storage.saveReceivedItem(actItem);\r\n    for (let index = 0; index < 30; index++) {\r\n      if (index === 25) {\r\n        elements.push(actItem);\r\n      } else {\r\n        elements.push(generateItem());\r\n      }\r\n    }\r\n    return <ItemLine items={elements} />;\r\n  };\r\n\r\n  const getRandomSouvenir = () => {\r\n    const randomSouvenir = new RandomSouvenir();\r\n\r\n    // const ran = Math.random();\r\n    // if (\r\n    //   props.items.some((e) => e.type == itemType.GREY) &&\r\n    //   ran < ItemChance.GREY\r\n    // )\r\n    //   return itemType.GREY;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.LIGHTBLUE) &&\r\n    //   ran < ItemChance.LIGHTBLUE\r\n    // )\r\n    //   return itemType.LIGHTBLUE;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.BLUE) &&\r\n    //   ran < ItemChance.BLUE\r\n    // )\r\n    //   return itemType.BLUE;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.PURPLE) &&\r\n    //   ran < ItemChance.PURPLE\r\n    // )\r\n    //   return itemType.PURPLE;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.PINK) &&\r\n    //   ran < ItemChance.PINK\r\n    // )\r\n    //   return itemType.PINK;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.RED) &&\r\n    //   ran < ItemChance.RED\r\n    // )\r\n    //   return itemType.RED;\r\n    // else if (\r\n    //   props.items.some((e) => e.type == itemType.GOLD) &&\r\n    //   ran < ItemChance.GOLD\r\n    // )\r\n    //   return itemType.GOLD;\r\n  };\r\n\r\n  // const getRandom = () => {\r\n  //   const ran = Math.random();\r\n  //   if (ran < ItemChance.BLUE) return itemType.BLUE;\r\n  //   else if (ran < ItemChance.PURPLE) return itemType.PURPLE;\r\n  //   else if (ran < ItemChance.PINK) return itemType.PINK;\r\n  //   else if (ran < ItemChance.RED) return itemType.RED;\r\n  //   else if (ran < ItemChance.GOLD) return itemType.GOLD;\r\n  //   else return itemType.BLUE;\r\n  // };\r\n\r\n  // const getRandomStatrak = (type) => {\r\n  //   const ran = Math.random();\r\n  //   if (ran < ItemStatrakChance.BLUE && type == itemType.BLUE) return true;\r\n  //   else if (ran < ItemStatrakChance.PURPLE && type == itemType.PURPLE)\r\n  //     return true;\r\n  //   else if (ran < ItemStatrakChance.PINK && type == itemType.PINK) return true;\r\n  //   else if (ran < ItemStatrakChance.RED && type == itemType.RED) return true;\r\n  //   else if (ran < ItemStatrakChance.GOLD && type == itemType.GOLD) return true;\r\n  //   else return false;\r\n  // };\r\n\r\n  // const getRandomQuality = (item) => {\r\n  //   const ran = Math.random();\r\n  //   if (item.quality == null) {\r\n  //     if (ran < QualityChance.BATTLESCARRED) return Quality[\"Battle-Scarred\"];\r\n  //     else if (ran < QualityChance.FIELDTESTED) return Quality[\"Field-Tested\"];\r\n  //     else if (ran < QualityChance.WELLWORN) return Quality[\"Well-Worn\"];\r\n  //     else if (ran < QualityChance.MINIMALWEAR) return Quality[\"Minimal Wear\"];\r\n  //     else if (ran < QualityChance.FACTORYNEW) return Quality[\"Factory New\"];\r\n  //     else return Quality[\"Battle-Scarred\"];\r\n  //   } else {\r\n  //     if (\r\n  //       item.quality.indexOf(Quality[\"Battle-Scarred\"]) !== -1 &&\r\n  //       ran < QualityChance.BATTLESCARRED\r\n  //     )\r\n  //       return Quality[\"Battle-Scarred\"];\r\n  //     else if (\r\n  //       item.quality.indexOf(Quality[\"Field-Tested\"]) !== -1 &&\r\n  //       ran < QualityChance.FIELDTESTED\r\n  //     )\r\n  //       return Quality[\"Field-Tested\"];\r\n  //     else if (\r\n  //       item.quality.indexOf(Quality[\"Well-Worn\"]) !== -1 &&\r\n  //       ran < QualityChance.WELLWORN\r\n  //     )\r\n  //       return Quality[\"Well-Worn\"];\r\n  //     else if (\r\n  //       item.quality.indexOf(Quality[\"Minimal Wear\"]) !== -1 &&\r\n  //       ran < QualityChance.MINIMALWEAR\r\n  //     )\r\n  //       return Quality[\"Minimal Wear\"];\r\n  //     else if (\r\n  //       item.quality.indexOf(Quality[\"Factory New\"]) !== -1 &&\r\n  //       ran < QualityChance.FACTORYNEW\r\n  //     )\r\n  //       return Quality[\"Factory New\"];\r\n  //     else return Quality[\"Battle-Scarred\"];\r\n  //   }\r\n  // };\r\n\r\n  const selectRandomSouvenir = () => {\r\n    let randomItem = new RandomItem();\r\n    let randomSouvenir = new RandomSouvenir();\r\n    const type = randomSouvenir.getRandomSouvenirTypeByItems(props.items);\r\n    const item = randomItem.getSouvenirItemByType(props.items, type);\r\n    return item;\r\n  };\r\n  const selectRandomItem = () => {\r\n    let randomItem = new RandomItem();\r\n    let randomCaseItem = new RandomCaseItem();\r\n    const type = randomCaseItem.getRandomType();\r\n    const item = randomItem.getItemFromCaseByType(props.items, type);\r\n    return item;\r\n\r\n    // let isStatrak = false;\r\n    // if (!props.isSouvenier && !props.isSticker) {\r\n    //   isStatrak = getRandomStatrak(type);\r\n    // }\r\n    // if (type === itemType.GOLD) {\r\n    //   const ran = getRandomInt(0, props.specialItems.length);\r\n    //   const item = props.specialItems[ran];\r\n    //   const quality = getRandomQuality(item);\r\n    //   return {\r\n    //     ...item,\r\n    //     isStatrak,\r\n    //     quality,\r\n    //   };\r\n    // } else {\r\n    //   const allGroupItems = [...props.items.filter((val) => val.type === type)];\r\n    //   const item = allGroupItems[ran];\r\n    //   const ran = getRandomInt(0, allGroupItems.length);\r\n    //   const quality = getRandomQuality(item);\r\n    //   return { ...item, isStatrak, quality };\r\n    // }\r\n  };\r\n  const openCase = () => {\r\n    setLine(generateLine());\r\n    setOpeningInProgress(true);\r\n    setTimeout(() => {\r\n      setReceivedItemModalVisible(true);\r\n    }, context.caseOpeningTime + 100);\r\n  };\r\n  const onReceivedItemConfirmation = () => {\r\n    router.push(\"/\");\r\n  };\r\n  const onTryAgainBtnClick = () => {\r\n    setReceivedItemModalVisible(false);\r\n    setOpeningInProgress(false);\r\n  };\r\n  return (\r\n    <>\r\n      <div className='case-opening-sec'>\r\n        {openingInProgress && <CaseOpeningAudio />}\r\n        {receivedItemModalVisible && (\r\n          <ReceivedItemModal\r\n            title={receivedItem.title}\r\n            isStatrak={receivedItem.isStatrak}\r\n            quality={receivedItem.quality}\r\n            type={receivedItem.type}\r\n            image={receivedItem.image}\r\n            onTryAgainBtnClick={() => onTryAgainBtnClick()}\r\n            onSubmit={() => onReceivedItemConfirmation()}\r\n          />\r\n        )}\r\n\r\n        <div className='head-wrap'>\r\n          {!openingInProgress && (\r\n            <CaseOpeningConfirmation\r\n              image={props.caseImage}\r\n              title={props.caseTitle}\r\n              onSubmit={() => openCase()}\r\n            />\r\n          )}\r\n          {openingInProgress && (\r\n            <>\r\n              <div className='case-opener-bg'>\r\n                <hr className='middle-line' />\r\n                <div className='case-opener'>{line}</div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        {openingInProgress && <UnlockingContainerNotification />}\r\n      </div>\r\n\r\n      <style jsx>\r\n        {`\r\n          .case-opening-sec {\r\n            width: 100%;\r\n            height: 50%;\r\n            padding-top: 2rem;\r\n            background: #121b24;\r\n            box-shadow: 0px 0px 11px 1px rgba(0, 0, 0, 0.75);\r\n          }\r\n\r\n          .case-opening-sec .head-wrap {\r\n            width: 101%;\r\n            transform: translateX(-0.5%);\r\n            background: #10161b;\r\n            box-shadow: 0px 0px 11px 1px rgba(0, 0, 0, 0.75);\r\n            height: 54%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n\r\n          .case-opening-sec .head-wrap .case-opener-bg {\r\n            width: 400px;\r\n            background: black;\r\n            position: relative;\r\n            padding: 16px 2px;\r\n          }\r\n\r\n          .case-opening-sec .head-wrap .case-opener-bg .case-opener {\r\n            width: 100%;\r\n            height: 102px;\r\n            overflow: hidden;\r\n            position: relative;\r\n          }\r\n\r\n          .middle-line {\r\n            background: #605337;\r\n            height: 100%;\r\n            position: absolute;\r\n            left: 50%;\r\n            width: 3px;\r\n            transform: translateX(-50%);\r\n            top: 0;\r\n            margin: 0;\r\n            z-index: 1;\r\n            border: none;\r\n          }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}